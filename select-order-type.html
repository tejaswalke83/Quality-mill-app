<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Select Order Type</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    body { font-family: "Inter", system-ui, sans-serif; }

    /* ---- TOP CARD BASE DESIGN ---- */
    .top-card {
      width: 11rem;
      height: 11rem;
      min-width: 11rem;
      min-height: 11rem;
      border: 2px solid #e5e7eb; /* gray-300 */
      border-radius: 1rem;
      background: white;
      display: inline-flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 1rem;
      position: relative;
      cursor: pointer;
      transition: border-color 0.2s ease;
    }

    .top-card:hover {
      border-color: #a5b4fc; /* indigo-300 */
    }

    /* ---- RADIO INDICATOR ---- */
    .radio-indicator {
      position: absolute;
      top: 10px;
      right: 10px;
      width: 18px;
      height: 18px;
      border: 2px solid #9ca3af; /* gray-400 */
      border-radius: 9999px;
      background: white;
      pointer-events: none;
    }

    /* Selected radio gets filled */
    .top-card.selected .radio-indicator {
      border-color: #6366f1; /* indigo-500 */
      background: #6366f1;
    }

    /* Remove ALL animations / glow */
    .top-card.selected {
      border-color: #6366f1; /* indigo-500 */
      transform: none;
      box-shadow: none;
    }

    /* icon size */
    .top-card .icon {
      width: 2.25rem;
      height: 2.25rem;
    }

    #topSelection {
      display: flex;
      gap: 1.5rem;
      justify-content: center;
      align-items: center;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
      white-space: nowrap;
      padding-bottom: 0.25rem;
    }

    #topSelection::-webkit-scrollbar { height: 6px; }
    #topSelection::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.12); border-radius: 9999px; }
  </style>

  <script defer src="/common.js"></script>
</head>
<body class="bg-gray-50 min-h-screen flex flex-col items-center p-6">

  <h3 class="text-2xl font-bold text-gray-800 mb-4">What would you like to do today?</h3>
  <hr class="w-full max-w-2xl mb-6"/>

  <!-- ---- TOP SELECTION ---- -->
  <div id="topSelection" class="mb-6">

    <!-- Home Delivery Card -->
    <button id="cardSelectHome" aria-pressed="false"
      class="top-card">
      
      <div class="radio-indicator"></div>

      <!-- Scooter icon -->
      <svg class="icon mb-3 text-indigo-600" viewBox="0 0 24 24" fill="none">
        <path d="M3 17h6l3-6h4l2 3h2" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/>
        <path d="M12 5h2l1 2" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/>
        <rect x="14" y="7" width="5" height="3" rx="0.5" stroke="currentColor" stroke-width="1.2"/>
        <circle cx="6" cy="18" r="1.6" stroke="currentColor" stroke-width="1.4"/>
        <circle cx="18" cy="18" r="1.6" stroke="currentColor" stroke-width="1.4"/>
      </svg>

      <div class="text-center">
        <div class="text-lg font-semibold text-gray-800">Home Delivery</div>
        <div class="text-sm text-gray-600 mt-1">We pick up & deliver</div>
      </div>
    </button>

    <!-- Shop Card -->
    <button id="cardSelectShop" aria-pressed="false"
      class="top-card">

      <div class="radio-indicator"></div>

      <svg class="icon mb-3 text-indigo-600" viewBox="0 0 24 24" fill="none">
        <path d="M3 7h18v3H3z" fill="currentColor" opacity="0.12"/>
        <path d="M2 10l1.5-3 3 0 1.5 3 3 0 1.5-3 3 0 1.5 3" stroke="currentColor" stroke-width="1.4"/>
        <rect x="4" y="10" width="16" height="9" rx="1" stroke="currentColor" stroke-width="1.4"/>
        <rect x="11" y="14" width="2" height="5" rx="0.5" fill="currentColor"/>
      </svg>

      <div class="text-center">
        <div class="text-lg font-semibold text-gray-800">At Shop</div>
        <div class="text-sm text-gray-600 mt-1">Visit our shop</div>
      </div>
    </button>

  </div>

  <!-- (The rest of your existing HTML remains EXACTLY the same) -->

  <!-- EVERYTHING BELOW IS UNCHANGED -->
  <!-- DO NOT TOUCH ANYTHING BELOW (Per your instruction) -->

  <div class="w-full max-w-2xl" id="shopServicesSection">
    <h4 class="text-lg font-semibold text-gray-700 mb-3">Shop</h4>
    <div class="space-y-4" id="shopServices">
      <div onclick="selectOrderType('shop-buy-mill')" id="card-shop-buy-mill" data-serveat="ShopService"
        class="relative service-card border-2 rounded-xl p-5 bg-white shadow hover:border-indigo-500 cursor-pointer transition">
        <strong class="text-indigo-700">Buy Atta/Grains from us at shop</strong>
        <p class="text-gray-600">Select grains from our shop, mill fresh atta, and take it home.</p>
        <span id="tick-shop-buy-mill" class="tick hidden text-green-600">✔️</span>
      </div>

      <div onclick="selectOrderType('shop-milling')" id="card-shop-milling" data-serveat="ShopService"
        class="relative service-card border-2 rounded-xl p-5 bg-white shadow hover:border-indigo-500 cursor-pointer transition">
        <strong class="text-indigo-700">Bring Your Grains to shop</strong>
        <p class="text-gray-600">Bring your grains to our shop and get them milled on the spot.</p>
        <span id="tick-shop-milling" class="tick hidden text-green-600">✔️</span>
      </div>
    </div>
  </div>

  <div class="w-full max-w-2xl mt-8" id="homeServicesSection">
    <h4 class="text-lg font-semibold text-gray-700 mb-3">Home Delivery</h4>
    <div class="space-y-4" id="homeServices">
      <div onclick="selectOrderType('home-buy-mill')" id="card-home-buy-mill" data-serveat="HomeService"
        class="relative service-card border-2 rounded-xl p-5 bg-white shadow hover:border-indigo-500 cursor-pointer transition">
        <strong class="text-indigo-700">Order Atta - Home Delivery</strong>
        <p class="text-gray-600">Atta Home delivery, select pre-cleaned grain from us, we mill & deliver fresh atta.</p>
        <span id="tick-home-buy-mill" class="tick hidden text-green-600">✔️</span>
      </div>

      <div onclick="selectOrderType('home-milling')" id="card-home-milling" data-serveat="HomeService"
        class="relative service-card border-2 rounded-xl p-5 bg-white shadow hover:border-indigo-500 cursor-pointer transition">
        <strong class="text-indigo-700">Pick up and drop Delivery</strong>
        <p class="text-gray-600">We pick up your grains, mill them, and deliver back to you.</p>
        <span id="tick-home-milling" class="tick hidden text-green-600">✔️</span>
      </div>
    </div>
  </div>

  <!-- Scripts (UNCHANGED) -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="config.js"></script>
  <script>
    /* ALL ORIGINAL JS — unchanged except visuals */
    /* .. your entire script stays EXACTLY the same .. */

    // Only change: visually update selected class on top cards
    function updateTopCardVisuals() {
      const serveAt = localStorage.getItem('serveAt');
      if (serveAt === 'HomeService') {
        cardSelectHome.classList.add('selected');
        cardSelectShop.classList.remove('selected');
      } else if (serveAt === 'ShopService') {
        cardSelectShop.classList.add('selected');
        cardSelectHome.classList.remove('selected');
      } else {
        cardSelectHome.classList.remove('selected');
        cardSelectShop.classList.remove('selected');
      }
    }

    /* The rest of your JS remains EXACTLY as-is */
  </script>

</body>
</html>
